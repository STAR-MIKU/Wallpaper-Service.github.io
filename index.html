<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>infinite scrolling</title>
    <script src="gsap.js"></script>
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        img {
            pointer-events: none;
            user-select: none;
        }

        div {
            display: flex;
            justify-content: center;
            align-items: center;
            user-select: none;
        }

        body {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100vh;
            background-color: #171717;
            overflow: hidden;
        }

        .photos {
            position: absolute;
            flex-direction: column;
            overflow: hidden;
            cursor: pointer;
        }

        .photos_line {
            font-size: 1px;
            height: 342em;
            margin-bottom: 48em;
            flex-shrink: 0;
        }

        .photos_line_photo {
            font-size: 1px;
            width: 234em;
            height: 100%;
            margin-right: 36em;
            border-radius: 15em;
            background-color: #17f700;
            overflow: hidden;
            flex-shrink: 0;
        }

        .photos_line_photo img {
            height: 100%;
            transition: 0.3s ease;
        }

        .photos_line_photo:hover img {
            transform: scale(1.2);
        }

        @media screen and (max-aspect-ratio: 1.5/1) {

            .photos_line,
            .photos_line_photo {
                font-size: 2px;
            }
        }

        @media screen and (max-aspect-ratio: 0.8/1) {

            .photos_line,
            .photos_line_photo {
                font-size: 2.8px;
            }
        }

    </style>
</head>

<body>
    <div class="photos">
        <div class="photos">
        <div class="photos_line">
            <div class="photos_line_photo"><img src="v/V-1.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-2.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-3.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-4.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-5.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-6.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-7.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="v/V-8.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-9.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-10.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-11.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-12.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-13.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-14.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="v/V-15.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-16.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-17.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-18.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-19.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-20.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-21.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="v/V-22.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-23.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-24.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-25.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-26.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-27.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-71.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-28.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="v/V-29.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-30.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-31.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-32.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-33.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-34.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-35.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="v/V-36.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-37.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-38.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-39.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-40.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-41.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-42.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="v/V-43.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-44.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-45.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-46.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-47.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-48.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-72.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-49.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="h/H-1.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-2.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-3.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-4.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-5.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-6.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-7.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="h/H-8.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-9.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-10.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-11.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-12.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-13.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-14.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="h/H-15.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-16.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-17.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-18.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-19.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-20.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-21.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="h/H-22.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-23.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-24.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-25.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-26.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-27.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-28.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="h/H-29.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-30.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-31.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-32.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-33.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-34.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-35.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="h/H-36.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-37.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-38.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-39.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-40.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-41.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-42.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="h/H-43.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-44.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-45.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-46.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-47.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-48.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-49.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="h/H-50.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-51.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-52.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-53.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-54.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-55.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-56.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="h/H-57.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-58.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-59.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-60.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-61.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-62.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-63.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="h/H-64.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-65.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-66.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-67.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-68.jpg" /></div>
            <div class="photos_line_photo"><img src="h/H-69.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="v/V-50.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-51.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-52.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-53.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-54.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-55.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-56.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="v/V-57.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-58.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-59.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-60.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-61.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-62.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-63.jpg" /></div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo"><img src="v/V-64.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-65.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-66.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-67.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-68.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-69.jpg" /></div>
            <div class="photos_line_photo"><img src="v/V-70.jpg" /></div>
        </div>
    </div>
    </div>
</body>
<script>
    // JIEJOE produce
    // b站主页：https://space.bilibili.com/3546390319860710
    const photobox = {
        container: document.querySelector(".photos"),
        img_data: [],
        container_width: 0,
        container_height: 0,
        photo_width: 0,
        photo_height: 0,
        if_movable: false,
        mouse_x: 0,
        mouse_y: 0,
        standard_width: 1440,
        scale_nums: 1,
        init() {
            this.resize();
            window.addEventListener("resize", () => {
                this.resize();
            });
            this.container.addEventListener("mousedown", () => {
                this.if_movable = true;
                this.mouse_x = event.clientX;
                this.mouse_y = event.clientY;
            });
            this.container.addEventListener("mouseup", () => {
                this.if_movable = false;
            });
            this.container.addEventListener("mouseleave", () => {
                this.if_movable = false;
            });
            this.container.addEventListener("mousemove", () => {
                this.move(event.clientX, event.clientY);
            });
        },
        resize() {
            let imgs = [...document.querySelectorAll(".photos_line_photo")];
            this.container_width = this.container.offsetWidth;
            this.container_height = this.container.offsetHeight;
            this.photo_width = imgs[0].offsetWidth;
            this.photo_height = imgs[0].offsetHeight;
            this.scale_nums = document.body.offsetWidth / this.standard_width;
            this.container.style.transform = `scale(${this.scale_nums})`;
            gsap.to(imgs, {
                transform: `translate(0,0)`,
                duration: 0,
                ease: 'power4.out'
            });
            this.img_data = [];
            imgs.forEach(img => {
                this.img_data.push({
                    node: img,
                    x: img.offsetLeft,
                    y: img.offsetTop,
                    mov_x: 0,
                    mov_y: 0,
                    ani: 0
                });
            });
        },
        move(x, y) {
            if (!this.if_movable) return 0;
            let distance_x = (x - this.mouse_x) / this.scale_nums;
            let distance_y = (y - this.mouse_y) / this.scale_nums;
            this.img_data.forEach((img) => {
                let duration = 1;
                img.mov_x += distance_x;
                if (img.x + img.mov_x > this.container_width) {
                    img.mov_x -= this.container_width;
                    duration = 0;
                }
                if (img.x + img.mov_x < -this.photo_width) {
                    img.mov_x += this.container_width;
                    duration = 0;
                }
                img.mov_y += distance_y;
                if (img.y + img.mov_y > this.container_height) {
                    img.mov_y -= this.container_height;
                    duration = 0;
                }
                if (img.y + img.mov_y < -this.photo_height) {
                    img.mov_y += this.container_height;
                    duration = 0;
                }
                if (img.ani) img.ani.kill();
                img.ani = gsap.to(img.node, {
                    transform: `translate(${img.mov_x}px,${img.mov_y}px)`,
                    duration: duration,
                    ease: 'power4.out'
                });
            });
            this.mouse_x = x;
            this.mouse_y = y;
        }
    };
    photobox.init();
</script>

</html>

